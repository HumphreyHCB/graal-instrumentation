# this run definition will be chosen if no parameters are given to rebench
default_experiment: all
default_data_file: 'NoLossData.data'

# a set of suites with different benchmarks and possibly different settings
benchmark_suites:
    NoInstrumentation:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=false -Djdk.graal.LogFile=%(variable)s%(benchmark)s.txt Harness %(benchmark)s 300 "
        benchmarks: &BENCHMARKS
        - DeltaBlue:
                extra_args: 60000
        - Richards:
                extra_args: 100
        - Json:
                extra_args: 100
        - CD:
                extra_args: 1000                
        - Havlak:
                extra_args: 15000              
        - Bounce:
                extra_args: 10000                
        - List:
                extra_args: 10000
        - Mandelbrot:
                extra_args: 750                
        - NBody:
                extra_args: 1200000               
        - Permute:
                extra_args: 3500               
        - Queens:
                extra_args: 5000        
        - Sieve:
                extra_args: 10000               
        - Storage:
                extra_args: 1800              
        - Towers:
                extra_args: 2500

    Instrumentation-0:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=0 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_0.txt Harness %(benchmark)s 300 "
        variable_values: &THIRTY [1]
        benchmarks: *BENCHMARKS
        
    Instrumentation-20:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=20 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_20.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-40:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=40 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_40.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-60:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=60 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_60.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-80:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=80 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_80.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-100:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=100 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_100.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-120:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=120 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_120.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-140:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=140 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_140.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-160:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=160 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_160.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-180:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=180 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_180.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

    Instrumentation-200:
        gauge_adapter: RebenchLog
        command: "-Dgraal.EnableProfiler=true -Dgraal.MinGraphSize=200 -Dgraal.BuboDump=BuboDumps/BuboDump%(variable)s/NoLoss_CallSite_%(benchmark)s_200.txt Harness %(benchmark)s 300 "
        variable_values: *THIRTY
        benchmarks: *BENCHMARKS

executors:
    RunInt:
      path: ./
      executable: runint.sh

experiments:
    Instrumentation-Experiment-0:
      suites:  [Instrumentation-0]
      executions: [RunInt]
      
    Instrumentation-Experiment-80:
      suites:  [Instrumentation-80]
      executions: [RunInt]
      
      
    Instrumentation-Experiment-120:
      suites:  [Instrumentation-120]
      executions: [RunInt]
      
    Instrumentation-Experiment-160:
      suites:  [Instrumentation-160]
      executions: [RunInt]
      
    Instrumentation-Experiment-200:
      suites:  [Instrumentation-200]
      executions: [RunInt]
